{"version":3,"file":"effect-panorama.js.map","sources":["../src/effect-panorama.esm.js"],"sourcesContent":["export default function EffectPanorama({ swiper, extendParams, on }) {\n  extendParams({\n    panoramaEffect: {\n      depth: 200,\n      rotate: 30,\n    },\n  });\n\n  on('beforeInit', () => {\n    if (swiper.params.effect !== 'panorama') return;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}panorama`);\n    swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n    const overwriteParams = {\n      watchSlidesProgress: true,\n    };\n    Object.assign(swiper.params, overwriteParams);\n    Object.assign(swiper.originalParams, overwriteParams);\n  });\n\n  on('progress', () => {\n    if (swiper.params.effect !== 'panorama') return;\n    const sizesGrid = swiper.slidesSizesGrid;\n    const { depth = 200, rotate = 30 } = swiper.params.panoramaEffect;\n    const angleRad = (rotate * Math.PI) / 180;\n    const halfAngleRad = angleRad / 2;\n    const angleModifier = 1 / (180 / rotate);\n\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      const slideEl = swiper.slides[i];\n      const slideProgress = slideEl.progress;\n      const slideSize = sizesGrid[i];\n      const progressModifier = swiper.params.centeredSlides\n        ? 0\n        : (swiper.params.slidesPerView - 1) * 0.5;\n      const modifiedProgress = slideProgress + progressModifier;\n      const angleCos = 1 - Math.cos(modifiedProgress * angleModifier * Math.PI);\n      const translateX = `${modifiedProgress * (slideSize / 3) * angleCos}px`;\n      const rotateY = modifiedProgress * rotate;\n      const radius = (slideSize * 0.5) / Math.sin(halfAngleRad);\n      const translateZ = `${radius * angleCos - depth}px`;\n      slideEl.style.transform =\n        swiper.params.direction === 'horizontal'\n          ? `translateX(${translateX}) translateZ(${translateZ}) rotateY(${rotateY}deg)`\n          : `translateY(${translateX}) translateZ(${translateZ}) rotateX(${-rotateY}deg)`;\n    }\n  });\n\n  on('setTransition', (s, duration) => {\n    if (swiper.params.effect !== 'panorama') return;\n    swiper.slides.forEach((slideEl) => {\n      // eslint-disable-next-line\n      slideEl.style.transition = `${duration}ms`;\n    });\n  });\n}\n"],"names":[],"mappings":"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"}