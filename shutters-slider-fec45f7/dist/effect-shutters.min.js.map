{"version":3,"sources":["../src/effect-shutters.esm.js"],"names":["swiper","extendParams","on","shuttersEffect","split","params","effect","classNames","push","overwriteParams","watchSlidesProgress","parallax","enabled","Object","assign","originalParams","slides","each","slideEl","imageEl","querySelector","nextEl","nextElementSibling","cloneContainerEl","document","createElement","classList","add","i","div","appendChild","cloneNode","parentNode","insertBefore","el","querySelectorAll","forEach","style","width","height","cloneEl","cloneElIndex","percentagePerItem","cloneImg","direction","top","left","setAttribute"],"mappings":";;;;;;;;;;;;;sPAAe,UAAwBA,OAAEA,EAAMC,aAAEA,EAAYC,GAAEA,IAC7DD,EAAa,CACXE,eAAgB,CACdC,MAAO,KAoEXF,EAAG,cAAc,KACf,GAA6B,aAAzBF,EAAOK,OAAOC,OAAuB,OAEzCN,EAAOO,WAAWC,KAAK,mBAEvB,MAAMC,EAAkB,CACtBC,qBAAqB,EACrBC,SAAU,CAAEC,SAAS,IAGvBC,OAAOC,OAAOd,EAAOK,OAAQI,GAC7BI,OAAOC,OAAOd,EAAOe,eAAgBN,MAEvCP,EAAG,QAAQ,KACoB,aAAzBF,EAAOK,OAAOC,QA7ElBN,EAAOgB,OAAOC,MAAMC,IAClB,MAAMC,EAAUD,EAAQE,cAAc,0BACtC,IAAKD,EAAS,OACd,MAAME,EAASF,EAAQG,mBACjBC,EAAmBC,SAASC,cAAc,OAChDF,EAAiBG,UAAUC,IAAI,gCAC/B,IAAK,IAAIC,EAAI,EAAGA,EAAI5B,EAAOK,OAAOF,eAAeC,MAAOwB,GAAK,EAAG,CAC9D,MAAMC,EAAML,SAASC,cAAc,OACnCI,EAAIH,UAAUC,IAAI,+BAClBE,EAAIC,YAAYX,EAAQY,aACxBR,EAAiBO,YAAYD,GAE3BR,EACFF,EAAQa,WAAWC,aAAaV,EAAkBF,GAElDF,EAAQa,WAAWF,YAAYP,SAkErCrB,EAAG,eAAe,KACa,aAAzBF,EAAOK,OAAOC,SA7DlBN,EAAOkC,GAAGC,iBAAiB,0BAA0BC,SAASjB,IAC5DA,EAAQkB,MAAMC,MAAQ,GAAGtC,EAAOsC,UAChCnB,EAAQkB,MAAME,OAAS,GAAGvC,EAAOuC,cAEnCvC,EAAOkC,GAAGC,iBAAiB,iBAAiBC,SAASlB,IACnDA,EACGiB,iBAAiB,gCACjBC,SAAQ,CAACI,EAASC,KACjB,MAAMC,EAAoB,IAAM1C,EAAOK,OAAOF,eAAeC,MACvDuC,EAAWH,EAAQpB,cAAc,0BACP,aAA5BpB,EAAOK,OAAOuC,WAChBJ,EAAQH,MAAME,OACZ,IAAMvC,EAAOK,OAAOF,eAAeC,MADd,IAGvBoC,EAAQH,MAAMQ,IACX,IAAM7C,EAAOK,OAAOF,eAAeC,MAASqC,EAD3B,IAGpBE,EAASN,MAAMQ,IAAM,IAAI,IAAMJ,OAE/BD,EAAQH,MAAMC,MACZ,IAAMtC,EAAOK,OAAOF,eAAeC,MADf,IAGtBoC,EAAQH,MAAMS,KACX,IAAM9C,EAAOK,OAAOF,eAAeC,MAASqC,EAD1B,IAGrBE,EAASN,MAAMS,KAAO,IAAI,IAAML,MAGlCE,EAASI,aAAa,uBAAwB,OAE9CP,EAAQO,aACN,uBAEEL,GACCD,EAAe,IACfA,EAAe,GAAM,EAAI,IAAO,GAHnC","file":"effect-shutters.min.js","sourcesContent":["export default function EffectShutters({ swiper, extendParams, on }) {\n  extendParams({\n    shuttersEffect: {\n      split: 5,\n    },\n  });\n\n  const createImages = () => {\n    swiper.slides.each((slideEl) => {\n      const imageEl = slideEl.querySelector('.swiper-shutters-image');\n      if (!imageEl) return;\n      const nextEl = imageEl.nextElementSibling;\n      const cloneContainerEl = document.createElement('div');\n      cloneContainerEl.classList.add('swiper-shutters-image-clones');\n      for (let i = 0; i < swiper.params.shuttersEffect.split; i += 1) {\n        const div = document.createElement('div');\n        div.classList.add('swiper-shutters-image-clone');\n        div.appendChild(imageEl.cloneNode());\n        cloneContainerEl.appendChild(div);\n      }\n      if (nextEl) {\n        imageEl.parentNode.insertBefore(cloneContainerEl, nextEl);\n      } else {\n        imageEl.parentNode.appendChild(cloneContainerEl);\n      }\n    });\n  };\n\n  const setImages = () => {\n    swiper.el.querySelectorAll('.swiper-shutters-image').forEach((imageEl) => {\n      imageEl.style.width = `${swiper.width}px`;\n      imageEl.style.height = `${swiper.height}px`;\n    });\n    swiper.el.querySelectorAll('.swiper-slide').forEach((slideEl) => {\n      slideEl\n        .querySelectorAll('.swiper-shutters-image-clone')\n        .forEach((cloneEl, cloneElIndex) => {\n          const percentagePerItem = 100 / swiper.params.shuttersEffect.split;\n          const cloneImg = cloneEl.querySelector('.swiper-shutters-image');\n          if (swiper.params.direction === 'vertical') {\n            cloneEl.style.height = `${\n              100 / swiper.params.shuttersEffect.split\n            }%`;\n            cloneEl.style.top = `${\n              (100 / swiper.params.shuttersEffect.split) * cloneElIndex\n            }%`;\n            cloneImg.style.top = `-${100 * cloneElIndex}%`;\n          } else {\n            cloneEl.style.width = `${\n              100 / swiper.params.shuttersEffect.split\n            }%`;\n            cloneEl.style.left = `${\n              (100 / swiper.params.shuttersEffect.split) * cloneElIndex\n            }%`;\n            cloneImg.style.left = `-${100 * cloneElIndex}%`;\n          }\n\n          cloneImg.setAttribute('data-swiper-parallax', '10%');\n\n          cloneEl.setAttribute(\n            'data-swiper-parallax',\n            `${\n              percentagePerItem *\n              (cloneElIndex + 1) *\n              (cloneElIndex % 2 === 0 ? 0.5 : -1)\n            }%`,\n          );\n        });\n    });\n  };\n\n  on('beforeInit', () => {\n    if (swiper.params.effect !== 'shutters') return;\n\n    swiper.classNames.push('swiper-shutters');\n\n    const overwriteParams = {\n      watchSlidesProgress: true,\n      parallax: { enabled: true },\n    };\n\n    Object.assign(swiper.params, overwriteParams);\n    Object.assign(swiper.originalParams, overwriteParams);\n  });\n  on('init', () => {\n    if (swiper.params.effect !== 'shutters') return;\n    createImages();\n  });\n\n  on('resize init', () => {\n    if (swiper.params.effect !== 'shutters') return;\n    setImages();\n  });\n}\n"]}